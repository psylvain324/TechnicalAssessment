@{
    Layout = "_Layout";
    ViewData["Title"] = "Home Page";
}

<div class="text-center">
    <h1 class="display-4">Technical Assessment</h1>
    <form id="form" name="form" action="/transactions" enctype="multipart/form-data" method="post">
        <fieldset>
            <legend style="padding-top: 10px; padding-bottom: 10px;">Upload CSV or XML data</legend>
 
            <div class="col-xs-12" style="padding: 10px;">
                <div class="col-xs-4">
                    <label>Upload CSV data</label>
                </div>
            </div>
            <div class="buttons">
                <div class="upload-button">
                    <div class="label">
                        <button onclick="submitForm('form')">Upload Data</button>
                    </div>
                    <input name="files" type="file" onchange="submitForm('form');" />
                </div>
            </div>
        </fieldset>
    </form>
</div>

<script>
function uploadFiles(inputId) {
  var input = document.getElementById(inputId);
  var _url = '@Url.Action("UploadFile", "MyController")';
  var files = input.files;
  var formData = new FormData();

  for (var i = 0; i != files.length; i++) {
    formData.append("files", files[i]);
  }

  $.ajax(
    {
      url: _url,
      data: formData,
      processData: false,
      contentType: false,
      type: "POST",
      success: function (data) {
        alert("Files Uploaded!");
      }
    }
  );
}
</script>
